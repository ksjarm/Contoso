@using Contoso.Pages.HtmlHelpers
@using Contoso.Pages.Constants
@using System.Linq.Expressions;
@model IEnumerable<Department>

@{
    ViewData[Data.Title] = "Departments";
    var columns = new Dictionary<string, Expression<Func<Department, dynamic>>>{
        {nameof(Department.Name), x => x.Name },
        {nameof(Department.Budget),x => x.Budget },
        {nameof(Department.StartDate),x => x.StartDate },
        {nameof(Department.RowVersion),x => x.RowVersion },
        {nameof(Department.Administrator),x => x.Administrator.FullName } };
    dynamic getId(Department d) => d.ID;
}

<h2>Departments</h2>

<p>
    <a asp-action="Create">Create New</a>
</p>

@Html.ViewList(Model, columns, getId)
